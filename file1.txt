Added some code here to change the logic.